<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>maos-0.7.1: maos/ahst.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>maos/ahst.c File Reference</h1>Contains functions to setup NGS modes and reconstructor using AHST for one or two DMs.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ahst_8c.html#1d776ee51ff021d1842de5de8a004dc5">ngsmod_nmod</a> (int ndm)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute number of ahst modes from number of DMs.  <a href="#1d776ee51ff021d1842de5de8a004dc5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structdmat.html">dmat</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ahst_8c.html#e3448a34b3f6452515a74d17b770c52f">ngsmod_mcc</a> (const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, <a class="el" href="structRECON__T.html">RECON_T</a> *recon, <a class="el" href="structAPER__T.html">APER_T</a> *aper, const double *wt)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">computes the cross-coupling of NGS modes in science field.  <a href="#e3448a34b3f6452515a74d17b770c52f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structspcell.html">spcell</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ahst_8c.html#93a5f84318748435a67e0d7d3c4b228e">ngsmod_Wa</a> (const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, <a class="el" href="structRECON__T.html">RECON_T</a> *recon, <a class="el" href="structAPER__T.html">APER_T</a> *aper, int use_ploc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute NGS mode aperture weighting using science field.  <a href="#93a5f84318748435a67e0d7d3c4b228e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structdcell.html">dcell</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ahst_8c.html#7851621262fbc9e1d6bc1019c61bb139">ngsmod_Pngs_Wa</a> (const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, <a class="el" href="structRECON__T.html">RECON_T</a> *recon, <a class="el" href="structAPER__T.html">APER_T</a> *aper, int use_ploc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">compute NGS mode removal from LGS commands using aperture weighting.  <a href="#7851621262fbc9e1d6bc1019c61bb139"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structdcell.html">dcell</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ahst_8c.html#e3113f442d824e6b7ffcc6ffe4d16361">ngsmod_Ptt_Wa</a> (const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, <a class="el" href="structRECON__T.html">RECON_T</a> *recon, <a class="el" href="structAPER__T.html">APER_T</a> *aper, int use_ploc)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">compute NGS mode removal from LGS commands using aperture weighting.  <a href="#e3113f442d824e6b7ffcc6ffe4d16361"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structdcell.html">dcell</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ahst_8c.html#d785d41e2aa4c2b2d4be48f52d4b37c3">ngsmod_m</a> (const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, <a class="el" href="structRECON__T.html">RECON_T</a> *recon)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">DM modes for all the low order modes.  <a href="#d785d41e2aa4c2b2d4be48f52d4b37c3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structdcell.html">dcell</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ahst_8c.html#33d002b5a06f58a3b7b4b07a1f0f3b3d">ngsmod_g</a> (const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, <a class="el" href="structRECON__T.html">RECON_T</a> *recon, <a class="el" href="structPOWFS__T.html">POWFS_T</a> *powfs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">from ngsmod to ztilt/gtilt gradients using GA  <a href="#33d002b5a06f58a3b7b4b07a1f0f3b3d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structdcell.html">dcell</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ahst_8c.html#7e3cbb7965f524ef7ab5c63a90466abd">ngsmod_hm_accphi</a> (const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, <a class="el" href="structRECON__T.html">RECON_T</a> *recon, <a class="el" href="structAPER__T.html">APER_T</a> *aper)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute NGS modes Ha*M in the science directon using ray tracing.  <a href="#7e3cbb7965f524ef7ab5c63a90466abd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structdcell.html">dcell</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ahst_8c.html#f38907f48ddcb69345df2d5ef6ecc615">ngsmod_hm_ana</a> (const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, <a class="el" href="structRECON__T.html">RECON_T</a> *recon, <a class="el" href="structAPER__T.html">APER_T</a> *aper)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute NGS modes Ha*M in the science directon using analytic formula.  <a href="#f38907f48ddcb69345df2d5ef6ecc615"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ahst_8c.html#55c65679c193d90bc7f5175ebb17733f">setup_ngsmod</a> (const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, <a class="el" href="structRECON__T.html">RECON_T</a> *recon, <a class="el" href="structAPER__T.html">APER_T</a> *aper, <a class="el" href="structPOWFS__T.html">POWFS_T</a> *powfs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">setup NGS modes and reconstructor using AHST for one or two DMs.  <a href="#55c65679c193d90bc7f5175ebb17733f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ahst_8c.html#bad45266bd29e9426cdbb40322c78c38">calc_ngsmod_dot</a> (double *pttr_out, double *pttrcoeff_out, double *ngsmod_out, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, const <a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structAPER__T.html">APER_T</a> *aper, const double *opd, int ievl)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">used in performance evaluation on science opds.  <a href="#bad45266bd29e9426cdbb40322c78c38"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ahst_8c.html#3d2a474cd4a6fcebb9e1ff8f26855353">ngsmod2dm</a> (<a class="el" href="structdcell.html">dcell</a> **dmc, const <a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structdcell.html">dcell</a> *M, double gain)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert NGS modes to DM actuator commands using analytical expression.  <a href="#3d2a474cd4a6fcebb9e1ff8f26855353"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ahst_8c.html#23e700bf65ab8561bd8ff2f43cf0982d">ngsmod2science</a> (<a class="el" href="structdmat.html">dmat</a> *iopdevl, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, const <a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structAPER__T.html">APER_T</a> *aper, const <a class="el" href="structdcell.html">dcell</a> *M, int ievl, double gain)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert NGS mode vector to aperture grid for science directions.  <a href="#23e700bf65ab8561bd8ff2f43cf0982d"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Contains functions to setup NGS modes and reconstructor using AHST for one or two DMs. 
<p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="1d776ee51ff021d1842de5de8a004dc5"></a><!-- doxytag: member="ahst.c::ngsmod_nmod" ref="1d776ee51ff021d1842de5de8a004dc5" args="(int ndm)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int ngsmod_nmod           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ndm</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compute number of ahst modes from number of DMs. 
<p>

</div>
</div><p>
<a class="anchor" name="e3448a34b3f6452515a74d17b770c52f"></a><!-- doxytag: member="ahst.c::ngsmod_mcc" ref="e3448a34b3f6452515a74d17b770c52f" args="(const PARMS_T *parms, RECON_T *recon, APER_T *aper, const double *wt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structdmat.html">dmat</a>* ngsmod_mcc           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAPER__T.html">APER_T</a> *&nbsp;</td>
          <td class="paramname"> <em>aper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&nbsp;</td>
          <td class="paramname"> <em>wt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
computes the cross-coupling of NGS modes in science field. 
<p>
MCC=(M'*Ha'*W*Ha*M) where M is ngsmod on DM, Ha is propagator from DM to science. W is weighting in science. 
</div>
</div><p>
<a class="anchor" name="93a5f84318748435a67e0d7d3c4b228e"></a><!-- doxytag: member="ahst.c::ngsmod_Wa" ref="93a5f84318748435a67e0d7d3c4b228e" args="(const PARMS_T *parms, RECON_T *recon, APER_T *aper, int use_ploc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structspcell.html">spcell</a>* ngsmod_Wa           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAPER__T.html">APER_T</a> *&nbsp;</td>
          <td class="paramname"> <em>aper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>use_ploc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compute NGS mode aperture weighting using science field. 
<p>
Wa=Ha'*W*Ha where Ha is from ALOC to PLOCS and W is the amplitude weighting in PLOCS when use_ploc==0. Otherwise, Ha is from ALOC to PLOC and W is the amplitude weighting in PLOC. 
</div>
</div><p>
<a class="anchor" name="7851621262fbc9e1d6bc1019c61bb139"></a><!-- doxytag: member="ahst.c::ngsmod_Pngs_Wa" ref="7851621262fbc9e1d6bc1019c61bb139" args="(const PARMS_T *parms, RECON_T *recon, APER_T *aper, int use_ploc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structdcell.html">dcell</a>* ngsmod_Pngs_Wa           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAPER__T.html">APER_T</a> *&nbsp;</td>
          <td class="paramname"> <em>aper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>use_ploc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
compute NGS mode removal from LGS commands using aperture weighting. 
<p>

</div>
</div><p>
<a class="anchor" name="e3113f442d824e6b7ffcc6ffe4d16361"></a><!-- doxytag: member="ahst.c::ngsmod_Ptt_Wa" ref="e3113f442d824e6b7ffcc6ffe4d16361" args="(const PARMS_T *parms, RECON_T *recon, APER_T *aper, int use_ploc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structdcell.html">dcell</a>* ngsmod_Ptt_Wa           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAPER__T.html">APER_T</a> *&nbsp;</td>
          <td class="paramname"> <em>aper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>use_ploc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
compute NGS mode removal from LGS commands using aperture weighting. 
<p>

</div>
</div><p>
<a class="anchor" name="d785d41e2aa4c2b2d4be48f52d4b37c3"></a><!-- doxytag: member="ahst.c::ngsmod_m" ref="d785d41e2aa4c2b2d4be48f52d4b37c3" args="(const PARMS_T *parms, RECON_T *recon)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structdcell.html">dcell</a>* ngsmod_m           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
DM modes for all the low order modes. 
<p>

</div>
</div><p>
<a class="anchor" name="33d002b5a06f58a3b7b4b07a1f0f3b3d"></a><!-- doxytag: member="ahst.c::ngsmod_g" ref="33d002b5a06f58a3b7b4b07a1f0f3b3d" args="(const PARMS_T *parms, RECON_T *recon, POWFS_T *powfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structdcell.html">dcell</a>* ngsmod_g           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPOWFS__T.html">POWFS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>powfs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
from ngsmod to ztilt/gtilt gradients using GA 
<p>

</div>
</div><p>
<a class="anchor" name="7e3cbb7965f524ef7ab5c63a90466abd"></a><!-- doxytag: member="ahst.c::ngsmod_hm_accphi" ref="7e3cbb7965f524ef7ab5c63a90466abd" args="(const PARMS_T *parms, RECON_T *recon, APER_T *aper)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdcell.html">dcell</a>* ngsmod_hm_accphi           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAPER__T.html">APER_T</a> *&nbsp;</td>
          <td class="paramname"> <em>aper</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compute NGS modes Ha*M in the science directon using ray tracing. 
<p>
Not used 
</div>
</div><p>
<a class="anchor" name="f38907f48ddcb69345df2d5ef6ecc615"></a><!-- doxytag: member="ahst.c::ngsmod_hm_ana" ref="f38907f48ddcb69345df2d5ef6ecc615" args="(const PARMS_T *parms, RECON_T *recon, APER_T *aper)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdcell.html">dcell</a>* ngsmod_hm_ana           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAPER__T.html">APER_T</a> *&nbsp;</td>
          <td class="paramname"> <em>aper</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compute NGS modes Ha*M in the science directon using analytic formula. 
<p>
Not used 
</div>
</div><p>
<a class="anchor" name="55c65679c193d90bc7f5175ebb17733f"></a><!-- doxytag: member="ahst.c::setup_ngsmod" ref="55c65679c193d90bc7f5175ebb17733f" args="(const PARMS_T *parms, RECON_T *recon, APER_T *aper, POWFS_T *powfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_ngsmod           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAPER__T.html">APER_T</a> *&nbsp;</td>
          <td class="paramname"> <em>aper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPOWFS__T.html">POWFS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>powfs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
setup NGS modes and reconstructor using AHST for one or two DMs. 
<p>

</div>
</div><p>
<a class="anchor" name="bad45266bd29e9426cdbb40322c78c38"></a><!-- doxytag: member="ahst.c::calc_ngsmod_dot" ref="bad45266bd29e9426cdbb40322c78c38" args="(double *pttr_out, double *pttrcoeff_out, double *ngsmod_out, const PARMS_T *parms, const RECON_T *recon, const APER_T *aper, const double *opd, int ievl)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void calc_ngsmod_dot           </td>
          <td>(</td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>pttr_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>pttrcoeff_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>ngsmod_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAPER__T.html">APER_T</a> *&nbsp;</td>
          <td class="paramname"> <em>aper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&nbsp;</td>
          <td class="paramname"> <em>opd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ievl</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
used in performance evaluation on science opds. 
<p>
accumulate to out 
</div>
</div><p>
<a class="anchor" name="3d2a474cd4a6fcebb9e1ff8f26855353"></a><!-- doxytag: member="ahst.c::ngsmod2dm" ref="3d2a474cd4a6fcebb9e1ff8f26855353" args="(dcell **dmc, const RECON_T *recon, const dcell *M, double gain)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ngsmod2dm           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdcell.html">dcell</a> **&nbsp;</td>
          <td class="paramname"> <em>dmc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdcell.html">dcell</a> *&nbsp;</td>
          <td class="paramname"> <em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>gain</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert NGS modes to DM actuator commands using analytical expression. 
<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>switch to use mode vectors </dd></dl>

</div>
</div><p>
<a class="anchor" name="23e700bf65ab8561bd8ff2f43cf0982d"></a><!-- doxytag: member="ahst.c::ngsmod2science" ref="23e700bf65ab8561bd8ff2f43cf0982d" args="(dmat *iopdevl, const PARMS_T *parms, const RECON_T *recon, const APER_T *aper, const dcell *M, int ievl, double gain)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ngsmod2science           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdmat.html">dmat</a> *&nbsp;</td>
          <td class="paramname"> <em>iopdevl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAPER__T.html">APER_T</a> *&nbsp;</td>
          <td class="paramname"> <em>aper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdcell.html">dcell</a> *&nbsp;</td>
          <td class="paramname"> <em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ievl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>gain</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert NGS mode vector to aperture grid for science directions. 
<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Nov 3 13:02:52 2010 for maos-0.7.1 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
