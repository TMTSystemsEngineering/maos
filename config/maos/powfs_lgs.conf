#FILE powfs_lgs.conf
#defines LGS WFS

powfs.order += [0] # number of sa in one dimension. 0 to match ground DM order.
powfs.dx   += [1/64] #sampling of opd in each subaperture. 
powfs.saat += [0.3]  #threshold of relative area to turn off subaperture.
powfs.hs   += [90e3] #height of the guide star. 90e3 for LGS. inf for NGS.
powfs.fnllt+= ["llt_CL.conf"] # configuration of laser launch telescope. 
powfs.trs  += [1]  #tilt remove flag. 1 for LGS. 0 for NGS
powfs.dfrs += [0]  #differential focus removal flag. 1 for LGS, 0 for NGS. LGS+=1 is bad for CBS
powfs.lo   += [0]  #low order. 1 for T/T or T/T/F WFS. 0 for LGS and high order NGS
powfs.nearecon+= [20] # nea in mas for reconstruction
powfs.skip     += [0]  # do not use this WFS in reconstruction  Enable for truth WFS
#Geometric optics SHWFS options
powfs.gtype_sim += [0]  #0: averaging gradient, 1: zernike tilt for simulation.
powfs.gtype_recon += [0] #0: averaging gradient, 1: zernike tilt for reconstruction.
#Physical optics SHWFS options.
powfs.phytype  += [1] #1: matched filter. 2:cog 
powfs.pixtheta += [0.5] #CCD Pixel size in arcsec. if negative -alpha, the sizeis alpha*max(wvl)/dsa
powfs.fieldstop+= [0]  # field stop in arcsec.
powfs.pixpsa   += [6]  #number of pixels per subaperture. 6 is good for LGS. 4 causes spikes
powfs.radpix   += [16] #positive: number of pixels along radial direction. negative: automatic
powfs.phystep  += [0] #-1 to disable physical optics.
powfs.mtchcr   += [1] #use constraint matched filter
powfs.mtchstc  += [0] #shift peak in sepsf to center using fft.
#Detector Options
powfs.rne      += [3] #read out noise
powfs.nwvl     += [1] #number of bands for each powfs.
powfs.wvl      += [0.589e-6]#concatenated list of bands
powfs.wvlwts   += [1]
powfs.noisy    += [1] #noisy detector in simulation.
powfs.dtrat    += [1] #sampling period relative to 1/dt (1/800)
powfs.siglev   += [900]#signal level at 800 Hz (no matter what sim.dt is)

powfs.nwfs+=[6] #number of wfs for each type
wfs.thetax+=[0 0  -33.287 -20.5725  20.5725 33.287] #x coordinate in arcsecond unit.
wfs.thetay+=[0 35 10.8156 -28.3156 -28.3156 10.8156] #y coordinate in arcsecond unit.
