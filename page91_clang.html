<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<title>MAOS: C Fundementals</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="maos.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MAOS
   </div>
   <div id="projectbrief">A Fast End to End Adaptive Optics Simulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('page91_clang.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">C Fundementals </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The user is required to have a good understanding of the C fundementals, like the pointer, to study and improve the code. Here we list a few to remind the user.</p>
<h1><a class="anchor" id="sect-array"></a>
Arrays</h1>
<p>If you declare an array: <code>double a[1024];</code> the symbol actually contains the address of a 1024x8 byte memory region that is automatically allocated in the stack (malloc, calloc allocations memory in the heap). Suppost the address of the memory region is 0xFF00. Assignment <code>a[0]=1;</code> puts 1 in memory started at 0xFF00 <code>a[1]=1;</code> puts 1 in memory started at 0xFF08.</p>
<p>Stack is the memory region allocated dynamically when calling a function. All variables reside in stack are automatically deleted when the function returns.</p>
<p>Heap is the memory reservoir. The functions malloc, calloc, realloc reserves memory in the heap while free removes the reservation.</p>
<h1><a class="anchor" id="sect-pointer"></a>
Pointers</h1>
<p>A pointer is a variable that stores the address of a memory region. <code>void *p;</code></p>
<p>is a basic pointer that just stores the address and can not do any thing about the memory it points to. Its value can be assigned to any other non const vectr or from any vector (1d or 2d).</p>
<p>However, a normal pointer like <code>double *p;</code> also contains information about the memory it points to. More specifically, the compiler know the length of each element so that it can compute the address offset of the elements, just like arrays.</p>
<p>For example: <code>double <em>p; if p contains value of 0xFF00.</em></code></p>
<p><code><em> <code>p[0]=1;</code>will store a double 1 into memory region at 0xFF00</em></code></p>
<p><code><em> <code>p[1]=1;</code>will store a double 1 into memory region at 0xFF08 because a double requires 8 bytes.</em></code></p>
<p><code><em> <code>p=p+1;</code> p will now contain 0xFF08, i.e., points to the next element, instead of 0xFF01 </em></code></p>
<p><code><em> <code>p[0]=1;</code> is strictly equivalent to <code>*p=1;</code> *p means visit the memory pointed by p instead of p itself. <code>p[1]=1;</code> is strictly equivalent to <code>(p+1)=1;</code></em></code></p>
<p><code><em></em></code></p>
<p><code><em></em></code></p>
<h2><a class="anchor" id="sect-1d-pointer"></a>
1D Pointers</h2>
<p><code><em> The simplist usage of pointer is to create and index an 1-D array: <code>double *p;</code>. <br  />
</em></code></p>
<p><code><em><code>p=mycalloc(1024,double);</code> Allocate a memory block of 1024x8 byte and store its address in p.</em></code></p>
<p><code><em> <code>p[0]=1;</code> will assign 1 to the first number in the array</em></code></p>
<p><code><em></em></code></p>
<p><code><em>This is equivalent to using the arrays.</em></code></p>
<p><code><em><code>double a[1024];</code> Declare an 1-D array.</em></code></p>
<p><code><em><code>a[0]=1;</code> will assign 1 to the first number in the array. The symbol a is like a constant pointer. We can assign it's value to a constant pointer:</em></code></p>
<p><code><em><code>double *const p=a;</code></em></code></p>
<p><code><em> <code>p[0]=1;</code></em></code></p>
<p><code><em></em></code></p>
<p><code><em></em></code></p>
<h2><a class="anchor" id="sect-const"></a>
Const pointers vs. pointers point to const memory</h2>
<p><code><em> Beware about a const pointer and pointer that points to constant memory regions:</em></code></p>
<p><code><em><code>const double *p;</code>p is a pointer that points to a memory region that can not be changed. Thus <code>p[0]=1;</code> is illegal.</em></code></p>
<p><code><em><code>double * const p;</code>p is a constant pointer that can not have its value changed. Thus <code>p=a</code> is illegal, unless you assign at declaration: <code>double *const p=a</code>. However, it is legal to modify the values in the memory p points to: <code>p[0]=1;</code>.</em></code></p>
<p><code><em></em></code></p>
<h2><a class="anchor" id="sect-2d-pointer"></a>
2D Pointers</h2>
<p><code><em> A 2D pointer is like a 1D pointer. It stores the address of a memory region. However, unlike the 1D pointer, the compiler knows some additional infos about the 2D pointer. The compiler knows the length of the first dimension so that is can compute the memory location given 2D index like a[2][3]; <code>double (*p)[2]=calloc(3*2,sizeof(double))</code> can be used in the same way as <code>double a[3][2]</code>. The last index changes fastest.</em></code></p>
<p><code><em>The pointer p in our dmat (or cmat) struct points to the allocated memory. It can be cast to a two-d vector to facilitize visiting of the elements. The cast is conveniently done by PDMAT(a,pa) for dmat a, which simply declares a 2-d pointer and assign a-&gt;p to it:</em></code></p>
<p><code><em><code>double (pa*)[2]=(void*)a-&gt;p</code>. a-&gt;p is first cast to void * because it is a double * and can not be assigned to double (*)[2] directly. The array elements (ix,jy) can be accessed by pa[iy][ix]. Notice that ix changes fastest. </em></code></p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->

   </ul>
 </div>
</body>
</html>
