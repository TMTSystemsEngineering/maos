<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>maos-0.7.1: maos/setup_recon.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>maos/setup_recon.c File Reference</h1>Contains routines that setup the wavefront reconstructor and DM fitting.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#928f34035de84ed317aa075e7a7ddac9">setup_recon_ploc</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setting up PLOC grid, which is a coarse sampled (similar to subaperture spacing) grid that defines the circular aperture for wavefront reconstruction and DM fitting.  <a href="#928f34035de84ed317aa075e7a7ddac9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#0182734530b87fcf5498aea2e8d1e5c0">setup_recon_aloc</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup the deformable mirrors grid aloc.  <a href="#0182734530b87fcf5498aea2e8d1e5c0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#93517d5a67108f02872fea3ca166df0a">setup_recon_xloc</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup the tomography grids xloc which is used for Tomography.  <a href="#93517d5a67108f02872fea3ca166df0a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#912dce9181aa58d65477058caa4d0c13">setup_recon_GXGA</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, <a class="el" href="structPOWFS__T.html">POWFS_T</a> *powfs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup gradient operator GX, GA on xloc, aloc.  <a href="#912dce9181aa58d65477058caa4d0c13"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#3f6cf2f9b4c4e8dbe3cba7df6a41fa9b">setup_recon_saneai</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, const <a class="el" href="structPOWFS__T.html">POWFS_T</a> *powfs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup the matrix of the inverse of gradient measurement noise equivalent angle covariance matrix.  <a href="#3f6cf2f9b4c4e8dbe3cba7df6a41fa9b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#b1ee56bdc9100fcdae8743d1b9971027">setup_recon_TTR</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, const <a class="el" href="structPOWFS__T.html">POWFS_T</a> *powfs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">setting up global tip/tilt remove operator from LGS gradients.  <a href="#b1ee56bdc9100fcdae8743d1b9971027"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#9a1d613f69803903ab0cb9f29ca5a4a3">setup_recon_DFR</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, const <a class="el" href="structPOWFS__T.html">POWFS_T</a> *powfs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">operator to remove diffrential focus modes that might be caused by sodium layer horizontal structure.  <a href="#9a1d613f69803903ab0cb9f29ca5a4a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#caa963e8fb3e5e0201f312327e4d94e8">setup_recon_TTFR</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, const <a class="el" href="structPOWFS__T.html">POWFS_T</a> *powfs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">wrapps <a class="el" href="setup__recon_8c.html#b1ee56bdc9100fcdae8743d1b9971027" title="setting up global tip/tilt remove operator from LGS gradients.">setup_recon_TTR()</a> and <a class="el" href="setup__recon_8c.html#9a1d613f69803903ab0cb9f29ca5a4a3" title="operator to remove diffrential focus modes that might be caused by sodium layer horizontal...">setup_recon_DFR()</a> to removal global tip/tilt and differential focus.  <a href="#caa963e8fb3e5e0201f312327e4d94e8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#2ade74dd6feba7dba0a4b6f38fe134a8">setup_recon_tomo_prep</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prepares for tomography.  <a href="#2ade74dd6feba7dba0a4b6f38fe134a8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#764bf903a38cfc81220e42699e911884">setup_recon_tomo_matrix</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">assemble tomography matrix.  <a href="#764bf903a38cfc81220e42699e911884"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#4aff68732e2560d8d421521ae47485a4">setup_recon_tomo_matrix_update</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Update assembled tomography matrix with new L2.  <a href="#4aff68732e2560d8d421521ae47485a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#dcd024580204a29e51a9345202d56e73">setup_recon_HXFHA</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup ray tracing operator HXF,HA from xloc, aloc to aperture ploc.  <a href="#dcd024580204a29e51a9345202d56e73"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#630c6d5a66160c402a727df359300f20">fit_prep_lrt</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Setup fitting low rank terms that are in the NULL space of DM fitting operator.  <a href="#630c6d5a66160c402a727df359300f20"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#b4a4784b2c4fff59fcdcdb3163fb1aea">free_recon_moao</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free <a class="el" href="structMOAO__T.html" title="contains MOAO related data">MOAO_T</a>.  <a href="#b4a4784b2c4fff59fcdcdb3163fb1aea"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#8300ff84b2b46910d45f4ce801252535">setup_recon_moao</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prepare the propagation H matrix for MOAO and compute the reconstructor.  <a href="#8300ff84b2b46910d45f4ce801252535"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#f7a8a7478b06b8b4f0d27784819f41c2">setup_recon_fit_matrix</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assemble the DM fitting matrix.  <a href="#f7a8a7478b06b8b4f0d27784819f41c2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#4f4abf13c9b0972de67fab348bb9f470">setup_recon_focus</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, <a class="el" href="structPOWFS__T.html">POWFS_T</a> *powfs, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create the reconstructor to reconstruct the residual focus error due to LGS sodium tracking error.  <a href="#4f4abf13c9b0972de67fab348bb9f470"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#2bd8394adbdb99d342f9ac9d3a0faa6f">setup_recon_mvst</a> (<a class="el" href="structRECON__T.html">RECON_T</a> *recon, const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">compute the MVST split tomography NGS mode reconstructor.  <a href="#2bd8394adbdb99d342f9ac9d3a0faa6f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#6ec32666222d37047d7775b874969a2e">setup_recon</a> (const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, <a class="el" href="structPOWFS__T.html">POWFS_T</a> *powfs, <a class="el" href="structAPER__T.html">APER_T</a> *aper)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets up the reconstruction structs including wavefront reconstructor and DM fitting operator.  <a href="#6ec32666222d37047d7775b874969a2e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="setup__recon_8c.html#810c17bd7027feae0decafb93f48efcf">free_recon</a> (const <a class="el" href="structPARMS__T.html">PARMS_T</a> *parms, <a class="el" href="structRECON__T.html">RECON_T</a> *recon)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free the recon struct.  <a href="#810c17bd7027feae0decafb93f48efcf"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Contains routines that setup the wavefront reconstructor and DM fitting. 
<p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="928f34035de84ed317aa075e7a7ddac9"></a><!-- doxytag: member="setup_recon.c::setup_recon_ploc" ref="928f34035de84ed317aa075e7a7ddac9" args="(RECON_T *recon, const PARMS_T *parms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_recon_ploc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Setting up PLOC grid, which is a coarse sampled (similar to subaperture spacing) grid that defines the circular aperture for wavefront reconstruction and DM fitting. 
<p>

</div>
</div><p>
<a class="anchor" name="0182734530b87fcf5498aea2e8d1e5c0"></a><!-- doxytag: member="setup_recon.c::setup_recon_aloc" ref="0182734530b87fcf5498aea2e8d1e5c0" args="(RECON_T *recon, const PARMS_T *parms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_recon_aloc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Setup the deformable mirrors grid aloc. 
<p>
This is used for DM fitting. 
</div>
</div><p>
<a class="anchor" name="93517d5a67108f02872fea3ca166df0a"></a><!-- doxytag: member="setup_recon.c::setup_recon_xloc" ref="93517d5a67108f02872fea3ca166df0a" args="(RECON_T *recon, const PARMS_T *parms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_recon_xloc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Setup the tomography grids xloc which is used for Tomography. 
<p>

</div>
</div><p>
<a class="anchor" name="912dce9181aa58d65477058caa4d0c13"></a><!-- doxytag: member="setup_recon.c::setup_recon_GXGA" ref="912dce9181aa58d65477058caa4d0c13" args="(RECON_T *recon, const PARMS_T *parms, POWFS_T *powfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_recon_GXGA           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPOWFS__T.html">POWFS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>powfs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Setup gradient operator GX, GA on xloc, aloc. 
<p>

</div>
</div><p>
<a class="anchor" name="3f6cf2f9b4c4e8dbe3cba7df6a41fa9b"></a><!-- doxytag: member="setup_recon.c::setup_recon_saneai" ref="3f6cf2f9b4c4e8dbe3cba7df6a41fa9b" args="(RECON_T *recon, const PARMS_T *parms, const POWFS_T *powfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_recon_saneai           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPOWFS__T.html">POWFS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>powfs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Setup the matrix of the inverse of gradient measurement noise equivalent angle covariance matrix. 
<p>
For physical optics wfs, the NEA is computed using matched filter output. For geometric optics, the NEA is from input. 
</div>
</div><p>
<a class="anchor" name="b1ee56bdc9100fcdae8743d1b9971027"></a><!-- doxytag: member="setup_recon.c::setup_recon_TTR" ref="b1ee56bdc9100fcdae8743d1b9971027" args="(RECON_T *recon, const PARMS_T *parms, const POWFS_T *powfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_recon_TTR           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPOWFS__T.html">POWFS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>powfs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
setting up global tip/tilt remove operator from LGS gradients. 
<p>

</div>
</div><p>
<a class="anchor" name="9a1d613f69803903ab0cb9f29ca5a4a3"></a><!-- doxytag: member="setup_recon.c::setup_recon_DFR" ref="9a1d613f69803903ab0cb9f29ca5a4a3" args="(RECON_T *recon, const PARMS_T *parms, const POWFS_T *powfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_recon_DFR           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPOWFS__T.html">POWFS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>powfs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
operator to remove diffrential focus modes that might be caused by sodium layer horizontal structure. 
<p>

</div>
</div><p>
<a class="anchor" name="caa963e8fb3e5e0201f312327e4d94e8"></a><!-- doxytag: member="setup_recon.c::setup_recon_TTFR" ref="caa963e8fb3e5e0201f312327e4d94e8" args="(RECON_T *recon, const PARMS_T *parms, const POWFS_T *powfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_recon_TTFR           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPOWFS__T.html">POWFS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>powfs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
wrapps <a class="el" href="setup__recon_8c.html#b1ee56bdc9100fcdae8743d1b9971027" title="setting up global tip/tilt remove operator from LGS gradients.">setup_recon_TTR()</a> and <a class="el" href="setup__recon_8c.html#9a1d613f69803903ab0cb9f29ca5a4a3" title="operator to remove diffrential focus modes that might be caused by sodium layer horizontal...">setup_recon_DFR()</a> to removal global tip/tilt and differential focus. 
<p>

</div>
</div><p>
<a class="anchor" name="2ade74dd6feba7dba0a4b6f38fe134a8"></a><!-- doxytag: member="setup_recon.c::setup_recon_tomo_prep" ref="2ade74dd6feba7dba0a4b6f38fe134a8" args="(RECON_T *recon, const PARMS_T *parms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_recon_tomo_prep           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Prepares for tomography. 
<p>

</div>
</div><p>
<a class="anchor" name="764bf903a38cfc81220e42699e911884"></a><!-- doxytag: member="setup_recon.c::setup_recon_tomo_matrix" ref="764bf903a38cfc81220e42699e911884" args="(RECON_T *recon, const PARMS_T *parms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_recon_tomo_matrix           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
assemble tomography matrix. 
<p>
In CG mode, this function is not executed if tomo.assemble=0, Instead, the algorithm is contained in <a class="el" href="recon_8c.html" title="Wavefront reconstruction and DM fitting routines.">recon.c</a>. When you modify anything, make sure you also do it there.<p>
For integrated tomograhy:<p>
<img class="formulaInl" alt="$\hat{x}=(G_{lgs}^{T}C_{lgs}^{-1}G_{lgs}+C_{x}^{-1}+G_{ngs}^{T}C_{ngs}^{-1} G_{ngs})^{-1}(G_{lgs}^{T}C_{lgs}^{-1}s_{lgs}+G_{ngs}^{T}C_{ngs}^{-1}s_{ngs}){\equiv}RL^{-1}RR s.$" src="form_38.png"><p>
For split tomography, the terms regarding NGS are dropped:<p>
<img class="formulaInl" alt="$\hat{x}_{lgs}=(G_{lgs}^{T}C_{lgs}^{-1}G_{lgs}+C_{x}^{-1})^{-1} G_{lgs}^{T}C_{lgs}^{-1}s_{lgs}\equiv RL^{-1} RR s.$" src="form_39.png"><p>
The left hand side of linear equation (inside the inverse) is stored in RL. The right hand side of the linear equation (outside of the inverse) is stored in RR. The terms regarding the NGS are handled using low rank terms. The gradients from LGS and NGS and concatenated to <img class="formulaInl" alt="$s$" src="form_40.png">.<p>
In the LGS part, there is a global tip/tilt removal operator because LGS is insensitive to global tip/tilts.<p>
For details see <a href="http://www.opticsinfobase.org/abstract.cfm?URI=josaa-19-9-1803">http://www.opticsinfobase.org/abstract.cfm?URI=josaa-19-9-1803</a> 
</div>
</div><p>
<a class="anchor" name="4aff68732e2560d8d421521ae47485a4"></a><!-- doxytag: member="setup_recon.c::setup_recon_tomo_matrix_update" ref="4aff68732e2560d8d421521ae47485a4" args="(RECON_T *recon, const PARMS_T *parms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_recon_tomo_matrix_update           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Update assembled tomography matrix with new L2. 
<p>

</div>
</div><p>
<a class="anchor" name="dcd024580204a29e51a9345202d56e73"></a><!-- doxytag: member="setup_recon.c::setup_recon_HXFHA" ref="dcd024580204a29e51a9345202d56e73" args="(RECON_T *recon, const PARMS_T *parms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_recon_HXFHA           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Setup ray tracing operator HXF,HA from xloc, aloc to aperture ploc. 
<p>

</div>
</div><p>
<a class="anchor" name="630c6d5a66160c402a727df359300f20"></a><!-- doxytag: member="setup_recon.c::fit_prep_lrt" ref="630c6d5a66160c402a727df359300f20" args="(RECON_T *recon, const PARMS_T *parms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void fit_prep_lrt           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Setup fitting low rank terms that are in the NULL space of DM fitting operator. 
<p>
typically include piston on each DM and tip/tilt on certain DMs. Becareful with tip/tilt contraint when using CBS. 
</div>
</div><p>
<a class="anchor" name="b4a4784b2c4fff59fcdcdb3163fb1aea"></a><!-- doxytag: member="setup_recon.c::free_recon_moao" ref="b4a4784b2c4fff59fcdcdb3163fb1aea" args="(RECON_T *recon, const PARMS_T *parms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void free_recon_moao           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free <a class="el" href="structMOAO__T.html" title="contains MOAO related data">MOAO_T</a>. 
<p>

</div>
</div><p>
<a class="anchor" name="8300ff84b2b46910d45f4ce801252535"></a><!-- doxytag: member="setup_recon.c::setup_recon_moao" ref="8300ff84b2b46910d45f4ce801252535" args="(RECON_T *recon, const PARMS_T *parms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_recon_moao           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Prepare the propagation H matrix for MOAO and compute the reconstructor. 
<p>
We only need a reconstructor for every different MOAO type. 
</div>
</div><p>
<a class="anchor" name="f7a8a7478b06b8b4f0d27784819f41c2"></a><!-- doxytag: member="setup_recon.c::setup_recon_fit_matrix" ref="f7a8a7478b06b8b4f0d27784819f41c2" args="(RECON_T *recon, const PARMS_T *parms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_recon_fit_matrix           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Assemble the DM fitting matrix. 
<p>
The fitting is done by minimizing <img class="formulaInl" alt="$||H_X x - H_A a||^2_W$" src="form_41.png"> where <img class="formulaInl" alt="$H_X, H_A$" src="form_42.png"> are ray tracing operator from tomography grid xloc, and deformable mirror grid aloc to pupil grid ploc. The norm is weighted using bilinear influence functions within the telescope aperture. We have<p>
<img class="formulaInl" alt="$a=\left[H_A^T(W_0-W_1 W_1^T)H_A\right]^{-1} H_A^T (W_0-W_1) H_X x$" src="form_43.png"><p>
For details see <a href="http://www.opticsinfobase.org/abstract.cfm?URI=josaa-19-9-1803">http://www.opticsinfobase.org/abstract.cfm?URI=josaa-19-9-1803</a> 
</div>
</div><p>
<a class="anchor" name="4f4abf13c9b0972de67fab348bb9f470"></a><!-- doxytag: member="setup_recon.c::setup_recon_focus" ref="4f4abf13c9b0972de67fab348bb9f470" args="(RECON_T *recon, POWFS_T *powfs, const PARMS_T *parms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_recon_focus           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPOWFS__T.html">POWFS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>powfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create the reconstructor to reconstruct the residual focus error due to LGS sodium tracking error. 
<p>
Need to average out the focus error caused by atmosphere when applying (a low pass filter is applied to the output). 
</div>
</div><p>
<a class="anchor" name="2bd8394adbdb99d342f9ac9d3a0faa6f"></a><!-- doxytag: member="setup_recon.c::setup_recon_mvst" ref="2bd8394adbdb99d342f9ac9d3a0faa6f" args="(RECON_T *recon, const PARMS_T *parms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void setup_recon_mvst           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
compute the MVST split tomography NGS mode reconstructor. 
<p>
2010-03-16: New Implementation.<p>
Definition:<p>
<ul>
<li><img class="formulaInl" alt="$G_{lgs}$" src="form_44.png"> is LGS gradient operator from xloc, contained in recon-&gt;GXtomo as <a class="el" href="structspcell.html" title="an 2-d array of sparse.">spcell</a></li><li><img class="formulaInl" alt="$G_{ngs}$" src="form_45.png"> is NGS gradient operator from xloc, contained in recon-&gt;GXL as dense matrix</li><li><img class="formulaInl" alt="$C_{lgs}, C_{ngs}$" src="form_46.png"> is the LGS, and NGS measurement noise covariance matrix.</li><li><img class="formulaInl" alt="$\hat{x}_{lgs}$" src="form_47.png"> is LGS tomography output</li><li><img class="formulaInl" alt="$\hat{x}_{ngs}$" src="form_48.png"> is NGS minimum variance split tomography output</li><li><img class="formulaInl" alt="$a_{ngs}$" src="form_49.png"> is NGS minimum variance DM output.</li><li><img class="formulaInl" alt="$F$" src="form_50.png"> is the fitting operator</li><li><img class="formulaInl" alt="$H_A$" src="form_51.png"> is the ray tracing operator from aloc to ploc, contained in recon-&gt;HA.</li><li><img class="formulaInl" alt="$MVModes$" src="form_52.png"> is the MVST NGS modes</li><li><img class="formulaInl" alt="$MVRngs$" src="form_53.png"> is the MVST NGS reconstructor</li></ul>
<p>
We have<p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray*} \hat{x}_{lgs}&amp;=&amp;A^{-1}G^{T}_{lgs}C_{lgs}^{-1}s_{lgs}\\ Uw&amp;=&amp;A^{-1}G_{ngs}^TC_{ngs}\\ \hat{x}_{ngs}&amp;=&amp;Uw(1+G_{ngs}Uw)^{-1}(s_{ngs}-G_{ngs}\hat{x}_{lgs});\\ a_{NGS}&amp;=&amp;F\hat{x}_{ngs}\\ MVModes&amp;=&amp;F\cdot Uw\\ MVRngs&amp;=&amp;(1+G_{ngs}Uw)^{-1} \end{eqnarray*}" src="form_54.png">
<p>
<p>
We need to orthnormalize the NGS modes. Propagate the NGS modes <img class="formulaInl" alt="$F\cdot Uw$" src="form_55.png"> to fitting directions and compute the cross-coupling matrix with weighting on <img class="formulaInl" alt="$W_0, W_1$" src="form_56.png">, we have<p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray*} Q&amp;=&amp;H_A\cdot F \cdot Uw\\ M_{CC}&amp;=&amp;Q^T(W_0-W_1 W_1^T)Q\\ \end{eqnarray*}" src="form_57.png">
<p>
<p>
Do SVD on <img class="formulaInl" alt="$MCC$" src="form_58.png"> we have <img class="formulaInl" alt="$M_{CC}=u\Sigma v^T $" src="form_59.png"> where <img class="formulaInl" alt="$u{\equiv}v$" src="form_60.png"> because <img class="formulaInl" alt="$MCC$" src="form_58.png"> is symmetric. Redefine the NGS modes and reconstructor as<p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray*} MVModes&amp;=&amp;F\cdot Uw\cdot u \Sigma^{-1/2}\\ MVRngs&amp;=&amp;\Sigma^{1/2}u^T (1+G_{ngs}A^{-1}G_{ngs}^T C_{ngs}^{-1})^{-1} \end{eqnarray*}" src="form_61.png">
<p>
 
</div>
</div><p>
<a class="anchor" name="6ec32666222d37047d7775b874969a2e"></a><!-- doxytag: member="setup_recon.c::setup_recon" ref="6ec32666222d37047d7775b874969a2e" args="(const PARMS_T *parms, POWFS_T *powfs, APER_T *aper)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structRECON__T.html">RECON_T</a>* setup_recon           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPOWFS__T.html">POWFS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>powfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAPER__T.html">APER_T</a> *&nbsp;</td>
          <td class="paramname"> <em>aper</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets up the reconstruction structs including wavefront reconstructor and DM fitting operator. 
<p>
Calls <a class="el" href="setup__recon_8c.html#764bf903a38cfc81220e42699e911884" title="assemble tomography matrix.">setup_recon_tomo_matrix()</a> and <a class="el" href="setup__recon_8c.html#f7a8a7478b06b8b4f0d27784819f41c2" title="Assemble the DM fitting matrix.">setup_recon_fit_matrix()</a> to setup the tomography and DM fitting matrix.<p>
AHST is handled in <a class="el" href="ahst_8c.html#55c65679c193d90bc7f5175ebb17733f" title="setup NGS modes and reconstructor using AHST for one or two DMs.">setup_ngsmod()</a>.<p>
MVST is handled in <a class="el" href="setup__recon_8c.html#2bd8394adbdb99d342f9ac9d3a0faa6f" title="compute the MVST split tomography NGS mode reconstructor.">setup_recon_mvst()</a>.<p>
MOAO is handled in <a class="el" href="setup__recon_8c.html#8300ff84b2b46910d45f4ce801252535" title="Prepare the propagation H matrix for MOAO and compute the reconstructor.">setup_recon_moao()</a>. 
<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="setup__recon_8c_6ec32666222d37047d7775b874969a2e_cgraph.png" border="0" usemap="#setup__recon_8c_6ec32666222d37047d7775b874969a2e_cgraph_map" alt=""></center>
<map name="setup__recon_8c_6ec32666222d37047d7775b874969a2e_cgraph_map">
<area shape="rect" id="node3" href="dmat_8h.html#0d7497e2dbb79adb228de6bdde4a201e" title="Create a new T matrix object." alt="" coords="208,5,259,35"><area shape="rect" id="node5" href="dmat_8h.html#a9c20ae37907780af63d91312d4fea38" title="creat a X(mat) reference an existing X(mat)." alt="" coords="212,59,255,88"><area shape="rect" id="node7" href="dmat_8h.html#705d6399ce6e7f7064d12f4eb131d47d" title="set values of each element in a X(mat) to val." alt="" coords="211,112,256,141"><area shape="rect" id="node9" href="fdpcg_8c.html#8af00f91380661f9d85542ac9738ba95" title="Prepare data for Tomography Fourier Domain Preconditioner." alt="" coords="183,165,284,195"><area shape="rect" id="node11" href="ahst_8c.html#55c65679c193d90bc7f5175ebb17733f" title="setup NGS modes and reconstructor using AHST for one or two DMs." alt="" coords="180,219,287,248"><area shape="rect" id="node13" href="setup__recon_8c.html#0182734530b87fcf5498aea2e8d1e5c0" title="Setup the deformable mirrors grid aloc." alt="" coords="172,272,295,301"><area shape="rect" id="node15" href="setup__recon_8c.html#f7a8a7478b06b8b4f0d27784819f41c2" title="Assemble the DM fitting matrix." alt="" coords="157,325,309,355"><area shape="rect" id="node17" href="setup__recon_8c.html#4f4abf13c9b0972de67fab348bb9f470" title="Create the reconstructor to reconstruct the residual focus error due to LGS sodium..." alt="" coords="168,379,299,408"><area shape="rect" id="node19" href="setup__recon_8c.html#912dce9181aa58d65477058caa4d0c13" title="Setup gradient operator GX, GA on xloc, aloc." alt="" coords="165,432,301,461"><area shape="rect" id="node21" href="setup__recon_8c.html#dcd024580204a29e51a9345202d56e73" title="Setup ray tracing operator HXF,HA from xloc, aloc to aperture ploc." alt="" coords="163,485,304,515"><area shape="rect" id="node23" href="setup__recon_8c.html#8300ff84b2b46910d45f4ce801252535" title="Prepare the propagation H matrix for MOAO and compute the reconstructor." alt="" coords="168,539,299,568"><area shape="rect" id="node25" href="setup__recon_8c.html#2bd8394adbdb99d342f9ac9d3a0faa6f" title="compute the MVST split tomography NGS mode reconstructor." alt="" coords="171,592,296,621"><area shape="rect" id="node27" href="setup__recon_8c.html#928f34035de84ed317aa075e7a7ddac9" title="Setting up PLOC grid, which is a coarse sampled (similar to subaperture spacing)..." alt="" coords="172,645,295,675"><area shape="rect" id="node29" href="setup__recon_8c.html#3f6cf2f9b4c4e8dbe3cba7df6a41fa9b" title="Setup the matrix of the inverse of gradient measurement noise equivalent angle covariance..." alt="" coords="164,699,303,728"><area shape="rect" id="node31" href="setup__recon_8c.html#764bf903a38cfc81220e42699e911884" title="assemble tomography matrix." alt="" coords="148,752,319,781"><area shape="rect" id="node33" href="setup__recon_8c.html#2ade74dd6feba7dba0a4b6f38fe134a8" title="Prepares for tomography." alt="" coords="153,805,313,835"><area shape="rect" id="node35" href="setup__recon_8c.html#caa963e8fb3e5e0201f312327e4d94e8" title="wrapps setup_recon_TTR() and setup_recon_DFR() to removal global tip/tilt and differential..." alt="" coords="168,859,299,888"><area shape="rect" id="node37" href="setup__recon_8c.html#93517d5a67108f02872fea3ca166df0a" title="Setup the tomography grids xloc which is used for Tomography." alt="" coords="172,912,295,941"></map>
</div>

</div>
</div><p>
<a class="anchor" name="810c17bd7027feae0decafb93f48efcf"></a><!-- doxytag: member="setup_recon.c::free_recon" ref="810c17bd7027feae0decafb93f48efcf" args="(const PARMS_T *parms, RECON_T *recon)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_recon           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPARMS__T.html">PARMS_T</a> *&nbsp;</td>
          <td class="paramname"> <em>parms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structRECON__T.html">RECON_T</a> *&nbsp;</td>
          <td class="paramname"> <em>recon</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free the recon struct. 
<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Nov 3 13:02:52 2010 for maos-0.7.1 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
